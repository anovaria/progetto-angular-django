{% extends "alloca_hostess/base.html" %}

{% block title %}Elenco Hostess - Alloca Hostess{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h4 class="mb-0">
        <span class="material-icons" style="vertical-align: middle;">badge</span>
        Elenco Hostess
    </h4>
    <div class="d-flex gap-2">
        <div class="form-check form-switch">
            <input class="form-check-input" type="checkbox" id="filtroAttive" 
                   {% if solo_attive %}checked{% endif %}
                   onchange="window.location.href='?attive=' + (this.checked ? '1' : '0')">
            <label class="form-check-label" for="filtroAttive">Solo attive</label>
        </div>
    </div>
</div>

<div class="card">
    <div class="card-body p-0">
        <table class="table table-hover mb-0">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Nominativo</th>
                    <th>Ruolo</th>
                    <th>Stato</th>
                    <th>Scadenza Lib. Sanitario</th>
                    <th>Note</th>
                </tr>
            </thead>
            <tbody>
                {% for h in hostess_list %}
                <tr>
                    <td>{{ h.id }}</td>
                    <td><strong>{{ h.nominativo }}</strong></td>
                    <td>{{ h.ruolo|default:"-" }}</td>
                    <td>
                        {% if h.attiva %}
                        <span class="badge bg-success">Attiva</span>
                        {% else %}
                        <span class="badge bg-secondary">Inattiva</span>
                        {% endif %}
                    </td>
                    <td>
                        {% if h.scadenza_libretto_sanitario %}
                            {{ h.scadenza_libretto_sanitario|date:"d/m/Y" }}
                        {% else %}
                            -
                        {% endif %}
                    </td>
                    <td>{{ h.nota|default:"-"|truncatechars:50 }}</td>
                </tr>
                {% empty %}
                <tr>
                    <td colspan="6" class="text-center text-muted py-4">
                        Nessuna hostess trovata
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
</div>

<div class="mt-3 text-muted">
    Totale: {{ hostess_list|length }} hostess
</div>
{% endblock %}
